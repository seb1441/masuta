<div class="container mx-auto px-16">
  <div class="text-center"><span class="text-4xl">User</span></div>
  <b>First name:</b> <%= @user.first_name %><br>
  <b>Last name:</b> <%= @user.last_name %><br>
  <b>Email:</b> <%= @user.email %><br>
  <b>Timezone:</b> <%= @user.timezone %><br>
  <b>Convenient hours:</b> <%= @user.convenient_hours %><br>
  <b>Convenient weekdays:</b> <%= @user.convenient_weekdays %><br>
  <b>Skype ID:</b> <%= @user.skype_id %><br>
  <b>Level:</b> <%= @user.level %><br>
  <b>Comments:</b> <%= @user.comments %><br>
  <div class="text-center"><span class="text-4xl">Chat</span></div>
  <div data-controller="scrolldown" data-target="scrolldown.content" id="chat-window" class="overflow-scroll mt-6 border-solid border-2 rounded-md" style="height: 500px;">
    <div>
      <div class="mt-20 mb-16">
        <% @chat_messages.each do |message| %>
          <div class="clearfix">
            <div class="<%= message.receiver == current_user ? "bg-gray-300" : "bg-blue-300 float-right" %> w-3/4 mx-4 my-2 p-2 rounded-lg clearfix">
              <%= message.content %>
            </div>
          </div>
        <% end %>
      </div>
    </div>

    <div data-controller="chat" class="w-full flex justify-between bg-blue-100" style="bottom: 0px;" data-user-id="<%= @user.id %>">
      <input
        data-target="chat.content"
        data-action="debounced:keyup->chat#keyup"
        class="flex-grow m-2 py-2 px-4 mr-1 rounded-full border border-gray-300 bg-gray-200 resize-none"
        rows="1"
        placeholder="Message..."
        style="outline: none;"
      />
      <button data-action="click->chat#send" class="m-2" style="outline: none;">
        <svg
          class="svg-inline--fa text-blue-400 fa-paper-plane fa-w-16 w-12 h-12 py-2 mr-2"
          aria-hidden="true"
          focusable="false"
          data-prefix="fas"
          data-icon="paper-plane"
          role="img"
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 512 512"
        >
          <path
            fill="currentColor"
            d="M476 3.2L12.5 270.6c-18.1 10.4-15.8 35.6 2.2 43.2L121 358.4l287.3-253.2c5.5-4.9 13.3 2.6 8.6 8.3L176 407v80.5c0 23.6 28.5 32.9 42.5 15.8L282 426l124.6 52.2c14.2 6 30.4-2.9 33-18.2l72-432C515 7.8 493.3-6.8 476 3.2z"
          />
        </svg>
      </button>
    </div>
  </div>
</div>